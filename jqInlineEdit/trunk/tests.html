<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>jqInlineEdit jQuery Plugin - tests</title>
		<link rel="stylesheet" type="text/css" media="all" href="tests.css" />
		<script type="text/javascript" src="jquery-1.4.4.min.js"></script>
		<script type="text/javascript" src="jquery.jqInlineEdit.js"></script>
		<script type="text/javascript" src="tests.js"></script>
    </head>
    <body>
        <h1>jqInlineEdit jQuery Plugin - tests</h1>
		
		<!-- We need a form for many reasons and test purposes -->
		<form action="target.html">
		
		<h2>1 - Let's Start Simple</h2>
		
		<div id="example1-1" class="example">
			<h3>Example 1.1: The Most Basic Example In The World</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> to edit it.
			</div>
			<pre>
    >>> $("#example1-1 .exampleBody strong").inlineEdit();
			</pre>	
			<p class="summary">
				Simple: you can customize the bold text clicking on it.<br/>
				Click <code>ENTER</code> key to accept the new value, or <code>ESC</code>
				key to cancel editing and restoring original value.<br/>
				Remember that when the field loose focus, is like when you click <code>ENTER</code>:
				the new value is accepted.
			</p>
		</div>


		<div id="example1-2" class="example">
			<h3>Example 1.2: More To Be Edited</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> or on the <em>italic</em> ones.<br/>
			</div>
			<pre>
    >>> $("#example1-2 .exampleBody strong,#example1-2 .exampleBody em").inlineEdit();
			</pre>
			<p class="summary">
				When editing a field you can click onto another field to stop editing the first and
				starting editing the second.<br/>
				By default you can edit only one field at time.
			</p>
		</div>

		<h2>2 - Somewhere Above Defaults</h2>

		<div id="example2-1" class="example">
			<h3>Example 2.1: Multiple Editing</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> again, but also the <em>italic</em> ones.
			</div>
			<pre>
    >>> $("#example2-1 .exampleBody strong,#example2-1 .exampleBody em")
    ...     .inlineEdit({multiEditing: true});
			</pre>
			<p class="summary">
				You can begin editing more than a field, not forced to one.<br/>
				For this, you simple need to use the <code class="api">multiEditing</code> option to
				<code>true</code>.<br/>
				In this case if the field loose focus it will no accept the new value; you need
				to go back to the field and press <code>ENTER</code>.
			</p>
		</div>

		<div id="example2-2" class="example">
			<h3>Example 2.2: Force User To Accept Changes</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> to edit. Click away to cancel what you've edited.
			</div>
			<pre>
    >>> $("#example2-2 .exampleBody strong")
    ...     .inlineEdit({acceptOnBlur: false});
			</pre>
			<p class="summary">
				If you don't like that clicking away is seen like a &quot;take this new text&quot; action,
				you can put the <code class="api">acceptOnBlur</code> option to <code>false</code>.<br/>
				Changing this will make the loose of focus like the pressure of the <code>ESC</code> key. 
			</p>
		</div>

		<div id="example2-3" class="example">
			<h3>Example 2.3: Change &quot;Abort&quot; Key</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> to edit. <code>ESC</code> key will not cancel the action
				anymore; instead use <code>BACKSPACE</code>.<br/>
				Customize also the <em>italic</em> text, but no cancel key will works.
			</div>
			<pre>
    >>>	$("#example2-3 .exampleBody strong")
    ...     .inlineEdit({cancelKey: 8});
    >>> $("#example2-3 .exampleBody em")
    ...     .inlineEdit({cancelKey: null});
			</pre>
			<p class="summary">
				Use the <code class="api">cancelKey</code> options to change the key that abort editing from
				<code>ESC</code> (code 27, the default) to what you want.<br/>
				If you put it to <code>null</code> value, no key will work anymore for this action
				(maybe the loose of focus will continue working, if you played with
				<code class="api">acceptOnBlur</code>
				value).
			</p>
		</div>

		<div id="example2-4" class="example preventMovingOn">
			<h3>Example 2.4: Change &quot;Accept&quot; Key</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> to edit. The <code>ENTER</code> key will not accept
				changes anymore (<strong>note</strong>that if you use it you will see a Javascript popup,
				but in a normal situation, when pressing this key inside a HTML <code>FORM</code> element,
				you will leave the current page), instead use<code>KEY-DOWN</code>.<br/>
				Customize also the <em>italic</em> text, but to accept changes you need to click away from
				the field, making it loosing focus.<br/>
				<strong>N.B.:</strong> if you use <code>ENTER</code> key, in the popup you'll see a field value
				like if changes has been accepted, but remember that is not the key you pressed that accepted
				the new value: when you submit a form (like you did pressing <code>ENTER</code>) the current
				selected field is also loosing focus! So: is the <em>blur</em> action that make magic.
			</div>
			<pre>
    >>>	$("#example2-4 .exampleBody strong")
    ...     .inlineEdit({acceptKey: 40});
    >>> $("#example2-4 .exampleBody em")
    ...     .inlineEdit({acceptKey: null});
			</pre>
			<p class="summary">
				Use the <code class="api">acceptKey</code> options to change the key that confirm changes from
				<code>ENTER</code> (code 13, the default) to what you want.<br/>
				If you put it to <code>null</code> value, no key will work anymore for this action
				(maybe the loose of focus will continue working, based on your
				<code class="api">acceptOnBlur</code>
				value).
			</p>
		</div>

		<div id="example2-4-1" class="example subExample preventMovingOn">
			<h4>Example 2.4.1: Change &quot;Accept&quot; Key (With Different Blur Handling)</h4>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> to edit. <code>ENTER</code> key will not accept changes
				anymore (and in the popup you'll see the old value).
			</div>
			<pre>
    >>>	$("#example2-4-1 .exampleBody strong")
    ...     .inlineEdit({acceptKey: 40,
    ...                  acceptOnBlur: false});
			</pre>
			<p class="summary">
				Continuing example above: this time the <em>blur</em> action will not change the value so
				you leave the page with old values.
			</p>
		</div>

		<div id="example2-4-2" class="example subExample">
			<h4>Example 2.4.2: Change &quot;Accept&quot; Key (This Time Preventing <code>ENTER</code>
			Key From Changing Page)</h4>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> to edit. <code>ENTER</code> key will not accept changes
				anymore (again, use <code>KEY-DOWN</code>).
			</div>
			<pre>
    >>>	$("#example2-4-2 .exampleBody strong")
    ...     .inlineEdit({acceptKey: 40,
    ...                  preventFormSubmission: true});
			</pre>
			<p class="summary">
				This set of examples shows you that inside <code>FORM</code> the <code>ENTER</code> key is
				special and commonly will submit it.<br/>
				Right now I prevent you moving on another page, but commonly how can you stop <code>ENTER</code>
				doing this if you don't like it but still you don't want that <code>ENTER</code> accept
				new values?<br/>
				Simple: you need to use also the <code class="api">preventFormSubmission</code> parameter,
				commonly not useful in any case except this. 
			</p>
		</div>

		<h2>3 - Doing Something Really Useful: Events</h2>

		<div id="example3-1" class="example">
			<h3>Example 3.1: Before Anything Else</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> or the <em>italic text</em> for edit.
				But you will not be able to edit the bold ones.<br/>
				However... have you noted that those texts are bigger than normal?
			</div>
			<pre>
    >>> $("#example3-1 .exampleBody strong,#example3-1 .exampleBody em")
    ...     .inlineEdit({onInit: function() {
    ...         this.css('font-size', '130%');
    ...         return this.is('em');
    ...     }});
			</pre>
			<p class="summary">
				You can use the <code class="api">onInit</code> parameter for giving to the plugin something
				to do... &quot;before all&quot;.<br/>
				The function you passed is called on every element of the jQuery set. Inside this function the
				<code>this</code> object is referred to the current jQuery context.<br/>
				You can use this function only for doing something on those elements (like make the font
				bigger?), but if <code class="api">onInit</code> will return a boolean
				<code>false</code>, the jqInlineEdit mechanism will be stopped for this element. This means that
				it will not be aditable.<br/>
			</p>
		</div>

		<div id="example3-2" class="example">
			<h3>Example 3.2: Before Editing</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> or the <em>italic text</em> for edit.
				You will be warned by a message every time you try to edit, but only the bold text will
				be editable after the message.
			</div>
			<pre>
    >>> $("#example3-2 .exampleBody strong,#example3-2 .exampleBody em")
    ...     .inlineEdit({beforeEdit: function() {
    ...         alert('you are trying to edit this text: ' + this.text());
    ...         return this.is('strong');
    ...     }});
			</pre>
			<p class="summary">
				Go back to the previous example for a while. It shows you how to &quot;make something&quot;
				after you started the inline edit procedure. When you rely onto
				<code class="api">onInit</code> you must know that it is called once; returning
				<code>false</code> from it will stop one or more elements of the jQuery set to be editable.<br/>
				Now I want to show the <code class="api">beforeEdit</code> event, called when the edit procedure
				starts from the user point of view, commonly when the user click on a target element.<br/>
				The bigger difference is that: this event will be called <em>every time</em> the edit
				procedure starts.<br/>
				The <code>this</code> object inside the event is the current jQuery context (the element
				you want to edit). Also, returning a boolean <code>false</code> from the function will stop
				the edit procedure, but only this time. So, another click on the element will call the function
				another time (and if this time the function doesn't return <code>false</code>, maybe you will
				be able to edit your text. 
			</p>
		</div>

		<div id="example3-3" class="example">
			<h3>Example 3.3: Before Anything Else (But We Are Talking Of The Editable Field)</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> for edit it.
				Like some example above the font size is a little smaller... but this time also the font size
				inside the text field.
			</div>
			<pre>
    >>> var oversizeMe = function() {
    ...     this.css('font-size', '130%');
	... };
    >>> $("#example3-3 .exampleBody strong").inlineEdit({
    ...         onInit: oversizeMe,
    ...         onInitField: oversizeMe
    ... });
			</pre>
			<p class="summary">
				Another useful API you can use is the <code class="api">onInitField</code> options.
				This is another event someway similar to the <code class="api">onInit</code> I
				explained above.
				The difference is that this new event is called on the text field you use for edit the text,
				so later that <code class="api">onInit</code> execution.<br/>
				When <code class="api">onInit</code> is called, the HTML inside the DOM element doesn't
				contain the field yet.<br/>
				In the example when I introduced <code class="api">onInit</code> event the text editable was
				bigger, but when you start to edit it the text inside the editable field was normal.
				In this example we use the same function for both events.<br/>
				In the <code class="api">onInitField</code> function the <code>this</code> reference is the
				jQuery context wrapping the text field. Again, returning <code>false</code> will abort the
				procedure of update (see next example).
			</p>
		</div>

		<div id="example3-3-1" class="example subExample">
			<h3>Example 3.3.1: Are You Able To Edit The Editable Field?</h3>
			<div class="exampleBody">
				Click on the <strong>bold text</strong> for edit it (sorry... not this time... you'll be
				not able).
			</div>
			<pre>
    >>> $("#example3-3-1 .exampleBody strong").inlineEdit({
    ...     onInit: function() {this.css('font-size', '130%');},
    ...     onInitField: function() {return false;}
    ... });
			</pre>
			<p class="summary">
				Like already said above, returning <code>false</code> from <code class="api">onInitField</code>
				function will not make the field editable
			</p>
		</div>

		<div id="example3-4" class="example">
			<h3>Example 3.4: Now Customize The Real First Event You Have Worked With</h3>
			<div class="exampleBody">
				Move <strong>your</strong> mouse <strong>randomly</strong> on
				<strong>all</strong> bold <strong>text</strong> inside <strong>this</strong> text.
			</div>
			<pre>
    >>> $("#example3-4 .exampleBody strong").inlineEdit({event: 'mouseover'});
			</pre>
			<p class="summary">

			</p>
		</div>


		</form>
		
    </body>
</html>
